<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <title>底部导航</title>
    <style>
    .search_result {
      position: relative;
      width: 100%;
      height: 30%;
    }

    </style>
</head>
<body>
  <input id="input" type="text" name="">
  <button id="button" onclick="search()">搜索</button>
    <h1><a href="http://www.newsmth.net/nForum/article/UESTC/16400">dsa</a>  </h1>
  <div id="search_result" src="" class="search_result"></div>


</body>
</html>
<script type="text/javascript" src="../script/jquery.js"></script>
<script type="text/javascript">


  function search() {
    content = document.getElementById('input').value;
    url = "http://127.0.0.1:8000/train_search_get?search="+content
    console.log(url)
        $.ajax({
          type: 'get',
          url:url,
          crossDomain: true,
          // data: content,  
          dataType: 'json',
          success:function(result){
            // for (var i = 0 ; i < result.length; i++) {
            //   Things[i]
            // }
            console.log(result)
            document.getElementById('search_result').innerHTML = result[0]['title']
            document.getElementById('search_result').setAttribute('href',result[0]['url']) 
          },
          error:function(){
            console.log('!!!');
          }
  });



    // $.ajax({
    //     type: "get",
    //     dataType : "json",
    //     data: JSON.stringify(json),
    //     success: function (d) {
    //     json_data = d; //是否需要将json转化为{}才能赋给json_data?
    //     }
    //   });

  }
</script>
